"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[36],{36:(it,S,a)=>{a.r(S),a.d(S,{AccountsModule:()=>nt});var c=a(6814),h=a(7304),t=a(9212);let w=(()=>{class s{static \u0275fac=function(n){return new(n||s)};static \u0275cmp=t.Xpm({type:s,selectors:[["app-accounts"]],decls:1,vars:0,template:function(n,i){1&n&&t._UZ(0,"router-outlet")},dependencies:[h.lC]})}return s})();var T=a(3519),A=a.n(T),l=a(9862),b=a(5619),v=a(8504),p=a(7398),d=a(6306),f=a(4716),x=a(7186);let M=(()=>{class s{http;translationService;apiUrl="https://api.4sighta.com/api/admin/account/staff/list";createApi="https://api.4sighta.com/api/admin/account/staff";updateDeleteApi="https://api.4sighta.com/api/admin/account/staff";isLoadingSubject=new b.X(!1);isLoading$=this.isLoadingSubject.asObservable();currentLang="en";constructor(e,n){this.http=e,this.translationService=n,this.translationService.onLanguageChange().subscribe(i=>{this.currentLang=i})}setLoading(e){this.isLoadingSubject.next(e)}handleError(e){console.log("Error from service",e.error.errors);let n=[];if(e.error.errors){const i=e.error.errors;for(const o in i)i.hasOwnProperty(o)&&i[o].forEach(st=>{n.push({severity:"error",summary:"Validation Error",detail:st})})}return(0,v._)(()=>({validationMessages:n}))}getStaffList(){const e=new l.WM({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.get(this.apiUrl,{headers:e}).pipe((0,p.U)(n=>n.data),(0,d.K)(n=>this.handleError(n)),(0,f.x)(()=>this.setLoading(!1)))}createStaff(e){const n=new l.WM({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.post(this.createApi,e,{headers:n}).pipe((0,p.U)(i=>i),(0,d.K)(i=>this.handleError(i)),(0,f.x)(()=>this.setLoading(!1)))}updateStaff(e,n){const i=new l.WM({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.put(`${this.updateDeleteApi}/${e}`,n,{headers:i}).pipe((0,p.U)(o=>o),(0,d.K)(o=>this.handleError(o)),(0,f.x)(()=>this.setLoading(!1)))}deleteStaff(e){const n=new l.WM({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.delete(`${this.updateDeleteApi}/${e}`,{headers:n}).pipe((0,p.U)(i=>i),(0,d.K)(i=>this.handleError(i)),(0,f.x)(()=>this.setLoading(!1)))}static \u0275fac=function(n){return new(n||s)(t.LFG(l.eN),t.LFG(x.D))};static \u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var U=a(6530),E=a(9834),_=a(515),O=a(5219),y=a(7931),L=a(7213),m=a(6651),C=a(3714),g=a(6223),Z=a(4611);const I=["dt"],D=()=>({height:"4px"});function F(s,r){1&s&&t._UZ(0,"p-progressBar",2),2&s&&t.Akn(t.DdM(2,D))}function N(s,r){1&s&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"Name"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Email"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Action"),t.qZA()())}function j(s,r){if(1&s){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"a",46),t.NdJ("click",function(){const o=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.editStaff(o))}),t.TgZ(7,"i",47),t._UZ(8,"span",48)(9,"span",49),t.qZA()(),t.TgZ(10,"a",50),t.NdJ("click",function(){const o=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.deleteStaff(o.id))}),t.TgZ(11,"i",51),t._UZ(12,"span",48)(13,"span",49)(14,"span",52)(15,"span",53)(16,"span",54),t.qZA()()()()}if(2&s){const e=r.$implicit;t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.email)}}const P=()=>({width:"30rem"}),J=()=>["name","email"];function $(s,r){if(1&s){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"h1",7),t._uU(6," Staff "),t.qZA(),t.TgZ(7,"div",8),t._uU(8),t.qZA()(),t.TgZ(9,"div",9)(10,"a",10),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.showDialog())}),t._UZ(11,"i",11),t._uU(12," Create "),t.qZA(),t.TgZ(13,"p-dialog",12),t.NdJ("visibleChange",function(i){t.CHM(e);const o=t.oxw();return t.KtG(o.visible=i)}),t.TgZ(14,"span",13),t._uU(15),t.qZA(),t.TgZ(16,"div",14)(17,"label",15),t._uU(18,"Name"),t.qZA(),t.TgZ(19,"div",16)(20,"input",17),t.NdJ("ngModelChange",function(i){t.CHM(e);const o=t.oxw();return t.KtG(o.newStaffName=i)}),t.qZA()()(),t.TgZ(21,"div",14)(22,"label",18),t._uU(23,"Email"),t.qZA(),t.TgZ(24,"div",16)(25,"input",19),t.NdJ("ngModelChange",function(i){t.CHM(e);const o=t.oxw();return t.KtG(o.newStaffEmail=i)}),t.qZA()()(),t.TgZ(26,"div",14)(27,"label",20),t._uU(28,"Department"),t.qZA(),t.TgZ(29,"div",16)(30,"p-dropdown",21),t.NdJ("ngModelChange",function(i){t.CHM(e);const o=t.oxw();return t.KtG(o.newDepartmentId=i)}),t.qZA()()(),t.TgZ(31,"div",14)(32,"label",22),t._uU(33,"Position"),t.qZA(),t.TgZ(34,"div",16)(35,"p-dropdown",23),t.NdJ("ngModelChange",function(i){t.CHM(e);const o=t.oxw();return t.KtG(o.newPositionId=i)}),t.qZA()()(),t.TgZ(36,"div",24)(37,"button",25),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.submit())}),t._uU(38," Save "),t.qZA(),t.TgZ(39,"button",26),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.visible=!1)}),t._uU(40," Cancel "),t.qZA()()()()()()(),t.TgZ(41,"div",27)(42,"div",28)(43,"div",29)(44,"div",30)(45,"div",31)(46,"div",32),t._UZ(47,"i",33),t.TgZ(48,"input",34),t.NdJ("input",function(i){t.CHM(e);const o=t.oxw();return t.KtG(o.applyFilter(i))}),t.qZA()()(),t.TgZ(49,"div",35)(50,"div",36)(51,"div",37),t._UZ(52,"span",38),t._uU(53," Selected "),t.qZA(),t.TgZ(54,"button",39),t._uU(55," Delete Selected "),t.qZA()()()(),t.TgZ(56,"div",40)(57,"p-messages",41),t.NdJ("valueChange",function(i){t.CHM(e);const o=t.oxw();return t.KtG(o.messages=i)}),t.qZA(),t.TgZ(58,"p-table",42,43),t.YNc(60,N,7,0,"ng-template",44)(61,j,17,2,"ng-template",45),t.qZA()()()()(),t.BQk()}if(2&s){const e=t.oxw();t.xp6(8),t.hij("",e.listOfStaff.length," Staff Members"),t.xp6(5),t.Akn(t.DdM(19,P)),t.Q6J("header",e.isEditMode?"Edit Staff":"Add Staff")("modal",!0)("visible",e.visible),t.xp6(2),t.hij("",e.isEditMode?"Edit Staff Details":"Add Staff Details","."),t.xp6(5),t.Q6J("ngModel",e.newStaffName),t.xp6(5),t.Q6J("ngModel",e.newStaffEmail),t.xp6(5),t.Q6J("options",e.listOfDepartments)("ngModel",e.newDepartmentId),t.xp6(5),t.Q6J("options",e.listOfPositions)("ngModel",e.newPositionId),t.xp6(22),t.Q6J("value",e.messages)("enableService",!1),t.xp6(1),t.Q6J("value",e.listOfStaff)("paginator",!1)("rows",10)("globalFilterFields",t.DdM(20,J))}}let k=(()=>{class s{staffService;departmentsService;positionsService;cdr;messages=[];unsubscribe=[];listOfStaff=[];listOfDepartments=[];listOfPositions=[];isEditMode=!1;isLoading$;selectedStaffId=null;visible=!1;newStaffName="";newStaffEmail="";newDepartmentId=null;newPositionId=null;table;constructor(e,n,i,o){this.staffService=e,this.departmentsService=n,this.positionsService=i,this.cdr=o,this.isLoading$=this.staffService.isLoading$}ngOnInit(){this.getStaffList(),this.getDepartmentsList(),this.getPositionsList()}showDialog(){this.visible=!0,this.newStaffName="",this.newStaffEmail="",this.newDepartmentId=null,this.newPositionId=null,this.selectedStaffId=null,this.isEditMode=!1}editStaff(e){this.visible=!0,this.newStaffName=e.name,this.newStaffEmail=e.email,this.newDepartmentId=e.department_id||null,this.newPositionId=e.position_id||null,this.selectedStaffId=e.id,this.isEditMode=!0}getStaffList(){const e=this.staffService.getStaffList().subscribe({next:n=>{this.listOfStaff=n,this.cdr.detectChanges(),console.log("listOfStaff",this.listOfStaff)},error:n=>{this.messages=[],n.validationMessages?this.messages=n.validationMessages:this.messages.push({severity:"error",summary:"Error",detail:"An unexpected error occurred."})}});this.unsubscribe.push(e)}getDepartmentsList(){const e=this.departmentsService.getDepartments().subscribe({next:n=>{this.listOfDepartments=n,this.cdr.detectChanges()},error:n=>{console.error("Failed to fetch departments",n)}});this.unsubscribe.push(e)}getPositionsList(){const e=this.positionsService.getPositions().subscribe({next:n=>{this.listOfPositions=n,this.cdr.detectChanges()},error:n=>{console.error("Failed to fetch positions",n)}});this.unsubscribe.push(e)}applyFilter(e){const n=e.target.value.trim().toLowerCase();this.table.filterGlobal(n,"contains")}submit(){if(this.selectedStaffId){const e={name:this.newStaffName,email:this.newStaffEmail,department_id:this.newDepartmentId?.toString(),position_id:this.newPositionId?.toString()},n=this.staffService.updateStaff(this.selectedStaffId,e).subscribe({next:i=>{this.messages.push({severity:"success",summary:"Success",detail:"Staff updated successfully."}),this.getStaffList(),this.visible=!1},error:i=>{this.messages=i.validationMessages||[{severity:"error",summary:"Error",detail:"Failed to update staff."}],this.visible=!1}});this.unsubscribe.push(n)}else{const n=this.staffService.createStaff({name:this.newStaffName,email:this.newStaffEmail,department_id:this.newDepartmentId,position_id:this.newPositionId}).subscribe({next:i=>{this.messages.push({severity:"success",summary:"Success",detail:"Staff created successfully."}),this.getStaffList(),this.visible=!1},error:i=>{this.messages=i.validationMessages||[{severity:"error",summary:"Error",detail:"Failed to create staff."}],this.visible=!1}});this.unsubscribe.push(n)}}deleteStaff(e){A().fire({title:"Are you sure?",text:"Do you want to delete this staff? This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"}).then(n=>{if(n.isConfirmed){const i=this.staffService.deleteStaff(e).subscribe({next:o=>{this.messages.push({severity:"success",summary:"Success",detail:"Staff deleted successfully."}),this.getStaffList()},error:o=>{this.messages=o.validationMessages||[{severity:"error",summary:"Error",detail:"Failed to delete staff."}]}});this.unsubscribe.push(i)}})}ngOnDestroy(){this.unsubscribe.forEach(e=>e.unsubscribe())}static \u0275fac=function(n){return new(n||s)(t.Y36(M),t.Y36(U._),t.Y36(E.m),t.Y36(t.sBO))};static \u0275cmp=t.Xpm({type:s,selectors:[["app-staff"]],viewQuery:function(n,i){if(1&n&&t.Gf(I,5),2&n){let o;t.iGM(o=t.CRH())&&(i.table=o.first)}},decls:4,vars:6,consts:[["mode","indeterminate",3,"style",4,"ngIf"],[4,"ngIf"],["mode","indeterminate"],["id","kt_app_toolbar",1,"app-toolbar","pt-10","mb-0"],["id","kt_app_toolbar_container",1,"app-container","container-fluid","d-flex","align-items-stretch"],[1,"app-toolbar-wrapper","d-flex","flex-stack","flex-wrap","gap-4","w-100"],[1,"page-title","d-flex","flex-column","justify-content-center","gap-1","me-3"],[1,"page-heading","d-flex","flex-column","justify-content-center","text-gray-900","fw-bold","fs-3","m-0"],[1,"fw-semibold","fs-7","my-0","text-muted"],[1,"d-flex","align-items-center","gap-2","gap-lg-3"],[1,"btn","btn-sm","btn-flex","btn-primary",3,"click"],[1,"ki-outline","ki-plus","text-white","fs-4"],[3,"header","modal","visible","visibleChange"],[1,"text-muted","mb-3","d-block"],[1,"mb-3","row"],["for","staffName",1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["pInputText","","id","staffName","name","staffName","autocomplete","off",1,"w-100",3,"ngModel","ngModelChange"],["for","staffEmail",1,"col-sm-3","col-form-label"],["pInputText","","id","staffEmail","name","staffEmail","autocomplete","off",1,"w-100",3,"ngModel","ngModelChange"],["for","department",1,"col-sm-3","col-form-label"],["id","department","optionLabel","name","optionValue","id","placeholder","Select Department",1,"w-100","overflow-visible",3,"options","ngModel","ngModelChange"],["for","position",1,"col-sm-3","col-form-label"],["id","position","optionLabel","name","optionValue","id","placeholder","Select Position",1,"w-100","overflow-visible",3,"options","ngModel","ngModelChange"],[1,"d-flex","justify-content-end","gap-2"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],["id","kt_app_content",1,"app-content","flex-column-fluid"],["id","kt_app_content_container",1,"app-container","container-fluid"],[1,"card"],[1,"card-header","border-0","pt-6"],[1,"card-title"],[1,"d-flex","align-items-center","position-relative","my-1"],[1,"pi","pi-search","fs-3","position-absolute","ms-5"],["type","text","pInputText","","placeholder","Search Staff",1,"form-control","form-control-solid","w-250px","ps-12",3,"input"],[1,"card-toolbar"],["data-kt-customer-table-toolbar","selected",1,"d-flex","justify-content-end","align-items-center","d-none"],[1,"fw-bold","me-5"],["data-kt-customer-table-select","selected_count",1,"me-2"],["type","button","data-kt-customer-table-select","delete_selected",1,"btn","btn-danger"],[1,"card-body","pt-0"],[3,"value","enableService","valueChange"],[1,"table-striped",3,"value","paginator","rows","globalFilterFields"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTooltip","Edit Staff","tooltipPosition","top",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm","me-1",3,"click"],[1,"ki-duotone","ki-pencil","fs-2"],[1,"path1"],[1,"path2"],["pTooltip","Delete Staff","tooltipPosition","top",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm",3,"click"],[1,"ki-duotone","ki-trash","fs-2"],[1,"path3"],[1,"path4"],[1,"path5"]],template:function(n,i){1&n&&(t.YNc(0,F,1,3,"p-progressBar",0),t.ALo(1,"async"),t.YNc(2,$,62,21,"ng-container",1),t.ALo(3,"async")),2&n&&(t.Q6J("ngIf",t.lcZ(1,2,i.isLoading$)),t.xp6(2),t.Q6J("ngIf",!1===t.lcZ(3,4,i.isLoading$)))},dependencies:[c.O5,_.V,O.jx,y.iA,L.V,m.k,C.o,g.Fj,g.JJ,g.On,Z.Lt,c.Ov]})}return s})(),B=(()=>{class s{http;translationService;apiUrl="https://api.4sighta.com/api/admin/account/role/list";isLoadingSubject=new b.X(!1);isLoading$=this.isLoadingSubject.asObservable();currentLang="en";constructor(e,n){this.http=e,this.translationService=n,this.translationService.onLanguageChange().subscribe(i=>{this.currentLang=i})}setLoading(e){this.isLoadingSubject.next(e)}handleError(e){return console.error("Error from service",e),(0,v._)(()=>e)}getRoles(){const e=new l.WM({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.get(this.apiUrl,{headers:e}).pipe((0,p.U)(n=>n.data),(0,d.K)(n=>this.handleError(n)),(0,f.x)(()=>this.setLoading(!1)))}static \u0275fac=function(n){return new(n||s)(t.LFG(l.eN),t.LFG(x.D))};static \u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const G=()=>({height:"4px"});function Q(s,r){1&s&&t._UZ(0,"p-progressBar",2),2&s&&t.Akn(t.DdM(2,G))}function q(s,r){if(1&s&&(t.TgZ(0,"div",12)(1,"div",13)(2,"div",14)(3,"span",15),t._uU(4),t.qZA()()(),t.TgZ(5,"div")(6,"span",16),t._uU(7),t.qZA()()()),2&s){const e=r.$implicit;t.xp6(4),t.Oqu(e.display_name),t.xp6(3),t.Oqu(e.description)}}function Y(s,r){if(1&s&&(t.ynx(0),t.TgZ(1,"div",3)(2,"div",4)(3,"div",5)(4,"h3",6)(5,"span",7),t._uU(6,"Roles List"),t.qZA(),t.TgZ(7,"span",8),t._uU(8),t.qZA()()(),t.TgZ(9,"div",9)(10,"div",10),t.YNc(11,q,8,2,"div",11),t.qZA()()()(),t.BQk()),2&s){const e=t.oxw();t.xp6(8),t.hij("",e.roles.length," Roles"),t.xp6(3),t.Q6J("ngForOf",e.roles)}}let K=(()=>{class s{rolesService;roles=[];isLoading$;unsubscribe=[];constructor(e){this.rolesService=e,this.isLoading$=this.rolesService.isLoading$}ngOnInit(){this.getRolesList()}getRolesList(){const e=this.rolesService.getRoles().subscribe({next:n=>{this.roles=n,console.log("Roles:",this.roles)},error:n=>{console.error("Failed to fetch roles",n)}});this.unsubscribe.push(e)}ngOnDestroy(){this.unsubscribe.forEach(e=>e.unsubscribe())}static \u0275fac=function(n){return new(n||s)(t.Y36(B))};static \u0275cmp=t.Xpm({type:s,selectors:[["app-roles"]],decls:4,vars:6,consts:[["mode","indeterminate",3,"style",4,"ngIf"],[4,"ngIf"],["mode","indeterminate"],[1,"p-30px"],[1,"card","card-flush","h-xl-100"],[1,"card-header","pt-7"],[1,"card-title","align-items-start","flex-column"],[1,"card-label","fw-bold","text-gray-900"],[1,"text-gray-500","mt-1","fw-semibold","fs-6"],[1,"card-body"],[1,"hover-scroll-overlay-y","pe-6","me-n6","d-flex","flex-wrap","gap-5"],["class","border border-dashed border-gray-300 element rounded px-7 py-3 mb-6",4,"ngFor","ngForOf"],[1,"border","border-dashed","border-gray-300","element","rounded","px-7","py-3","mb-6"],[1,"d-flex","flex-stack","mb-3"],[1,"me-3"],[1,"text-gray-800","text-hover-primary","fw-bold"],[1,"text-gray-500"]],template:function(n,i){1&n&&(t.YNc(0,Q,1,3,"p-progressBar",0),t.ALo(1,"async"),t.YNc(2,Y,12,2,"ng-container",1),t.ALo(3,"async")),2&n&&(t.Q6J("ngIf",t.lcZ(1,2,i.isLoading$)),t.xp6(2),t.Q6J("ngIf",!1===t.lcZ(3,4,i.isLoading$)))},dependencies:[c.sg,c.O5,m.k,c.Ov],styles:[".p-30px[_ngcontent-%COMP%]{padding:30px}.element[_ngcontent-%COMP%]{width:200px;max-width:200px}"]})}return s})(),R=(()=>{class s{http;translationService;apiUrl="https://api.4sighta.com/api/admin/account/permission/list";isLoadingSubject=new b.X(!1);isLoading$=this.isLoadingSubject.asObservable();currentLang="en";constructor(e,n){this.http=e,this.translationService=n,this.translationService.onLanguageChange().subscribe(i=>{this.currentLang=i})}setLoading(e){this.isLoadingSubject.next(e)}handleError(e){return console.error("Error from service",e),(0,v._)(()=>e)}getPermissions(){const e=new l.WM({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.get(this.apiUrl,{headers:e}).pipe((0,p.U)(n=>n.data),(0,d.K)(n=>this.handleError(n)),(0,f.x)(()=>this.setLoading(!1)))}static \u0275fac=function(n){return new(n||s)(t.LFG(l.eN),t.LFG(x.D))};static \u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const H=()=>({height:"4px"});function z(s,r){1&s&&t._UZ(0,"p-progressBar",2),2&s&&t.Akn(t.DdM(2,H))}function W(s,r){if(1&s&&(t.TgZ(0,"div",12)(1,"div",13)(2,"div",14)(3,"span",15),t._uU(4),t.qZA()()(),t.TgZ(5,"div")(6,"span",16),t._uU(7),t.qZA()()()),2&s){const e=r.$implicit;t.xp6(4),t.Oqu(e.display_name),t.xp6(3),t.Oqu(e.description)}}function X(s,r){if(1&s&&(t.ynx(0),t.TgZ(1,"div",3)(2,"div",4)(3,"div",5)(4,"h3",6)(5,"span",7),t._uU(6,"Permissions List"),t.qZA(),t.TgZ(7,"span",8),t._uU(8),t.qZA()()(),t.TgZ(9,"div",9)(10,"div",10),t.YNc(11,W,8,2,"div",11),t.qZA()()()(),t.BQk()),2&s){const e=t.oxw();t.xp6(8),t.hij("",e.permissions.length," Permissions"),t.xp6(3),t.Q6J("ngForOf",e.permissions)}}const V=[{path:"",redirectTo:"main-accounts",pathMatch:"full"},{path:"main-accounts",component:w,children:[{path:"",redirectTo:"staff",pathMatch:"full"},{path:"staff",component:k},{path:"roles",component:K},{path:"permissions",component:(()=>{class s{permissionsService;permissions=[];isLoading$;unsubscribe=[];constructor(e){this.permissionsService=e,this.isLoading$=this.permissionsService.isLoading$}ngOnInit(){this.getPermissionsList()}getPermissionsList(){const e=this.permissionsService.getPermissions().subscribe({next:n=>{this.permissions=n,console.log("Permissions:",this.permissions)},error:n=>{console.error("Failed to fetch permissions",n)}});this.unsubscribe.push(e)}ngOnDestroy(){this.unsubscribe.forEach(e=>e.unsubscribe())}static \u0275fac=function(n){return new(n||s)(t.Y36(R))};static \u0275cmp=t.Xpm({type:s,selectors:[["app-permissions"]],decls:4,vars:6,consts:[["mode","indeterminate",3,"style",4,"ngIf"],[4,"ngIf"],["mode","indeterminate"],[1,"p-30px"],[1,"card","card-flush","h-xl-100"],[1,"card-header","pt-7"],[1,"card-title","align-items-start","flex-column"],[1,"card-label","fw-bold","text-gray-900"],[1,"text-gray-500","mt-1","fw-semibold","fs-6"],[1,"card-body"],[1,"hover-scroll-overlay-y","pe-6","me-n6","d-flex","flex-wrap","gap-5"],["class","border element border-dashed border-gray-300 rounded px-7 py-3 mb-6",4,"ngFor","ngForOf"],[1,"border","element","border-dashed","border-gray-300","rounded","px-7","py-3","mb-6"],[1,"d-flex","flex-stack","mb-3"],[1,"me-3"],[1,"text-gray-800","text-hover-primary","fw-bold"],[1,"text-gray-500"]],template:function(n,i){1&n&&(t.YNc(0,z,1,3,"p-progressBar",0),t.ALo(1,"async"),t.YNc(2,X,12,2,"ng-container",1),t.ALo(3,"async")),2&n&&(t.Q6J("ngIf",t.lcZ(1,2,i.isLoading$)),t.xp6(2),t.Q6J("ngIf",!1===t.lcZ(3,4,i.isLoading$)))},dependencies:[c.sg,c.O5,m.k,c.Ov],styles:[".p-30px[_ngcontent-%COMP%]{padding:30px}.element[_ngcontent-%COMP%]{width:200px;max-width:200px}"]})}return s})()}]}];let tt=(()=>{class s{static \u0275fac=function(n){return new(n||s)};static \u0275mod=t.oAB({type:s});static \u0275inj=t.cJS({imports:[h.Bz.forChild(V),h.Bz]})}return s})();var et=a(707);let nt=(()=>{class s{static \u0275fac=function(n){return new(n||s)};static \u0275mod=t.oAB({type:s});static \u0275inj=t.cJS({imports:[c.ez,tt,_.$,y.U$,L.S,et.hJ,m.q,C.j,g.u5,Z.kW]})}return s})()}}]);