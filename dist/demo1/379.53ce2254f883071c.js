"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[379],{6379:(Ee,A,r)=>{r.r(A),r.d(A,{DashbordModule:()=>Me});var p=r(6814),_=r(6651),T=r(7304),e=r(9212);let k=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275cmp=e.Xpm({type:o,selectors:[["app-dashboard"]],decls:3,vars:0,consts:[[1,"px-15","d-flex","flex-column","flex-md-row","gap-10","justify-content-between","align-items-center"],[1,"wrap"]],template:function(n,i){1&n&&(e._UZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"router-outlet"),e.qZA())},dependencies:[T.lC],styles:[".notifications[_ngcontent-%COMP%]{width:80%;margin:20px auto;padding:20px 0;border-bottom:1px dashed #E4E7F0;border-top:1px dashed #E4E7F0}.sub-bar[_ngcontent-%COMP%]{position:fixed;top:106px;z-index:11;overflow-x:scroll;left:30px}.div-dashbar[_ngcontent-%COMP%]{position:fixed;top:105px;z-index:11;left:30px}"]})}return o})(),U=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275cmp=e.Xpm({type:o,selectors:[["app-company-settings"]],decls:3,vars:0,consts:[[1,"p-5"],[1,"d-flex","flex-column","text-dark","fw-bolder","my-0","fs-1"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Settings."),e.qZA()())}})}return o})();var I=r(3519),y=r.n(I),N=r(6530),h=r(7213),f=r(5219),b=r(3259),v=r(3714),c=r(6223),x=r(515),C=r(7931);const q=["dt"],S=()=>({height:"4px"});function L(o,a){1&o&&e._UZ(0,"p-progressBar",2),2&o&&e.Akn(e.DdM(2,S))}function J(o,a){1&o&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Name"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Name (English)"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Name (Arabic)"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Action"),e.qZA()())}function R(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"a",42),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.editDepartment(s))}),e.TgZ(9,"i",43),e._UZ(10,"span",44)(11,"span",45),e.qZA()(),e.TgZ(12,"a",46),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.deleteDepartment(s.id))}),e.TgZ(13,"i",47),e._UZ(14,"span",44)(15,"span",45)(16,"span",48)(17,"span",49)(18,"span",50),e.qZA()()()()}if(2&o){const t=a.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.names.en),e.xp6(2),e.Oqu(t.names.ar)}}const F=()=>({width:"25rem"}),P=()=>["name","names.en","names.ar"];function O(o,a){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"h1",7),e._uU(6," Departments "),e.qZA(),e.TgZ(7,"div",8),e._uU(8),e.qZA()(),e.TgZ(9,"div",9)(10,"a",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.showDialog())}),e._UZ(11,"i",11),e._uU(12," Create "),e.qZA(),e.TgZ(13,"p-dialog",12),e.NdJ("visibleChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.visible=i)}),e.TgZ(14,"span",13),e._uU(15),e.qZA(),e.TgZ(16,"div",14)(17,"label",15),e._uU(18,"Arabic Name"),e.qZA(),e.TgZ(19,"div",16)(20,"input",17),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.newDepartmentAr=i)}),e.qZA()()(),e.TgZ(21,"div",14)(22,"label",18),e._uU(23,"English Name"),e.qZA(),e.TgZ(24,"div",16)(25,"input",19),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.newDepartmentEn=i)}),e.qZA()()(),e.TgZ(26,"div",20)(27,"button",21),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.submit())}),e._uU(28," Save "),e.qZA(),e.TgZ(29,"button",22),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.visible=!1)}),e._uU(30," Cancel "),e.qZA()()()()()()(),e.TgZ(31,"div",23)(32,"div",24)(33,"div",25)(34,"div",26)(35,"div",27)(36,"div",28),e._UZ(37,"i",29),e.TgZ(38,"input",30),e.NdJ("input",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.applyFilter(i))}),e.qZA()()(),e.TgZ(39,"div",31)(40,"div",32)(41,"div",33),e._UZ(42,"span",34),e._uU(43," Selected "),e.qZA(),e.TgZ(44,"button",35),e._uU(45,"Delete Selected"),e.qZA()()()(),e.TgZ(46,"div",36)(47,"p-messages",37),e.NdJ("valueChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.messages=i)}),e.qZA(),e.TgZ(48,"p-table",38,39),e.YNc(50,J,9,0,"ng-template",40)(51,R,19,3,"ng-template",41),e.qZA()()()()(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(8),e.hij("",t.listOfDepartments.length," Department"),e.xp6(5),e.Akn(e.DdM(15,F)),e.Q6J("header",t.isEditMode?"Edit Department":"Add Department")("modal",!0)("visible",t.visible),e.xp6(2),e.hij("",t.isEditMode?"Edit Department Details":"Add Department Details","."),e.xp6(5),e.Q6J("ngModel",t.newDepartmentAr),e.xp6(5),e.Q6J("ngModel",t.newDepartmentEn),e.xp6(22),e.Q6J("value",t.messages)("enableService",!1),e.xp6(1),e.Q6J("value",t.listOfDepartments)("paginator",!1)("rows",10)("globalFilterFields",e.DdM(16,P))}}let G=(()=>{class o{_departments;cdr;messages=[];unsubscribe=[];listOfDepartments=[];isEditMode=!1;isLoading$;selectedDepartmentId=null;visible=!1;newDepartmentAr="";newDepartmentEn="";constructor(t,n){this._departments=t,this.cdr=n,this.isLoading$=this._departments.isLoading$}ngOnInit(){this.getDepartmentsList()}showDialog(){this.visible=!0,this.newDepartmentEn="",this.newDepartmentAr="",this.selectedDepartmentId=null,this.isEditMode=!1}editDepartment(t){this.visible=!0,this.newDepartmentEn=t.names.en,this.newDepartmentAr=t.names.ar,this.selectedDepartmentId=t.id,this.isEditMode=!0}getDepartmentsList(){const t=this._departments.getDepartments().subscribe({next:n=>{this.listOfDepartments=n,this.cdr.detectChanges()},error:n=>{this.messages=[],n.validationMessages?this.messages=n.validationMessages:this.messages.push({severity:"error",summary:"Error",detail:"An unexpected error occurred."})}});this.unsubscribe.push(t)}table;applyFilter(t){const n=t.target.value.trim().toLowerCase();this.table.filterGlobal(n,"contains")}submit(){if(this.selectedDepartmentId){const n=this._departments.updateDepartment(this.selectedDepartmentId,{name:{en:this.newDepartmentEn,ar:this.newDepartmentAr}}).subscribe({next:i=>{this.messages.push({severity:"success",summary:"Success",detail:"Department updated successfully."}),this.getDepartmentsList(),this.visible=!1},error:i=>{this.messages=i.validationMessages||[{severity:"error",summary:"Error",detail:"Failed to update department."}],this.visible=!1}});this.unsubscribe.push(n)}else{const n=this._departments.createDepartment({name:{en:this.newDepartmentEn,ar:this.newDepartmentAr}}).subscribe({next:i=>{this.messages.push({severity:"success",summary:"Success",detail:"Department created successfully."}),this.getDepartmentsList(),this.visible=!1},error:i=>{this.messages=i.validationMessages||[{severity:"error",summary:"Error",detail:"Failed to create department."}],this.visible=!1}});this.unsubscribe.push(n)}}deleteDepartment(t){y().fire({title:"Are you sure?",text:"Do you want to delete this department? This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"}).then(n=>{n.isConfirmed&&this._departments.deleteDepartment(t).subscribe({next:s=>{this.messages.push({severity:"success",summary:"Success",detail:"Department deleted successfully."}),this.getDepartmentsList()},error:s=>{this.messages=s.validationMessages||[{severity:"error",summary:"Error",detail:"Failed to delete department."}]}})})}ngOnDestroy(){this.unsubscribe.forEach(t=>t.unsubscribe())}static \u0275fac=function(n){return new(n||o)(e.Y36(N._),e.Y36(e.sBO))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-department"]],viewQuery:function(n,i){if(1&n&&e.Gf(q,5),2&n){let s;e.iGM(s=e.CRH())&&(i.table=s.first)}},decls:4,vars:6,consts:[["mode","indeterminate",3,"style",4,"ngIf"],[4,"ngIf"],["mode","indeterminate"],["id","kt_app_toolbar",1,"app-toolbar","pt-10","mb-0"],["id","kt_app_toolbar_container",1,"app-container","container-fluid","d-flex","align-items-stretch"],[1,"app-toolbar-wrapper","d-flex","flex-stack","flex-wrap","gap-4","w-100"],[1,"page-title","d-flex","flex-column","justify-content-center","gap-1","me-3"],[1,"page-heading","d-flex","flex-column","justify-content-center","text-gray-900","fw-bold","fs-3","m-0"],[1,"fw-semibold","fs-7","my-0","text-muted"],[1,"d-flex","align-items-center","gap-2","gap-lg-3"],[1,"btn","btn-sm","btn-flex","btn-primary",3,"click"],[1,"ki-outline","ki-plus","text-white","fs-4"],[3,"header","modal","visible","visibleChange"],[1,"text-muted","mb-3","d-block"],[1,"mb-3","row"],["for","arabicName",1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["pInputText","","id","arabicName","name","arabicName","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["for","englishName",1,"col-sm-3","col-form-label"],["pInputText","","id","englishName","name","englishName","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-end","gap-2"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],["id","kt_app_content",1,"app-content","flex-column-fluid"],["id","kt_app_content_container",1,"app-container","container-fluid"],[1,"card"],[1,"card-header","border-0","pt-6"],[1,"card-title"],[1,"d-flex","align-items-center","position-relative","my-1"],[1,"pi","pi-search","fs-3","position-absolute","ms-5"],["type","text","pInputText","","placeholder","Search Departments",1,"form-control","form-control-solid","w-250px","ps-12",3,"input"],[1,"card-toolbar"],["data-kt-customer-table-toolbar","selected",1,"d-flex","justify-content-end","align-items-center","d-none"],[1,"fw-bold","me-5"],["data-kt-customer-table-select","selected_count",1,"me-2"],["type","button","data-kt-customer-table-select","delete_selected",1,"btn","btn-danger"],[1,"card-body","pt-0"],[3,"value","enableService","valueChange"],[1,"table-striped",3,"value","paginator","rows","globalFilterFields"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTooltip","Edit Department","tooltipPosition","top",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm","me-1",3,"click"],[1,"ki-duotone","ki-pencil","fs-2"],[1,"path1"],[1,"path2"],["pTooltip","Delete Department","tooltipPosition","top",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm",3,"click"],[1,"ki-duotone","ki-trash","fs-2"],[1,"path3"],[1,"path4"],[1,"path5"]],template:function(n,i){1&n&&(e.YNc(0,L,1,3,"p-progressBar",0),e.ALo(1,"async"),e.YNc(2,O,52,17,"ng-container",1),e.ALo(3,"async")),2&n&&(e.Q6J("ngIf",e.lcZ(1,2,i.isLoading$)),e.xp6(2),e.Q6J("ngIf",!1===e.lcZ(3,4,i.isLoading$)))},dependencies:[p.O5,h.V,f.jx,b.u,_.k,v.o,c.Fj,c.JJ,c.On,x.V,C.iA,p.Ov]})}return o})();var j=r(9834);const Q=["dt"],K=()=>({height:"4px"});function H(o,a){1&o&&e._UZ(0,"p-progressBar",2),2&o&&e.Akn(e.DdM(2,K))}function B(o,a){1&o&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Name"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Name (English)"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Name (Arabic)"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Action"),e.qZA()())}function $(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"a",42),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.editPosition(s))}),e.TgZ(9,"i",43),e._UZ(10,"span",44)(11,"span",45),e.qZA()(),e.TgZ(12,"a",46),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.deletePosition(s.id))}),e.TgZ(13,"i",47),e._UZ(14,"span",44)(15,"span",45)(16,"span",48)(17,"span",49)(18,"span",50),e.qZA()()()()}if(2&o){const t=a.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.names.en),e.xp6(2),e.Oqu(t.names.ar)}}const Y=()=>({width:"25rem"}),V=()=>["name","names.en","names.ar"];function z(o,a){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"h1",7),e._uU(6," Positions "),e.qZA(),e.TgZ(7,"div",8),e._uU(8),e.qZA()(),e.TgZ(9,"div",9)(10,"a",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.showDialog())}),e._UZ(11,"i",11),e._uU(12," Create "),e.qZA(),e.TgZ(13,"p-dialog",12),e.NdJ("visibleChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.visible=i)}),e.TgZ(14,"span",13),e._uU(15),e.qZA(),e.TgZ(16,"div",14)(17,"label",15),e._uU(18,"Arabic Name"),e.qZA(),e.TgZ(19,"div",16)(20,"input",17),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.newPositionAr=i)}),e.qZA()()(),e.TgZ(21,"div",14)(22,"label",18),e._uU(23,"English Name"),e.qZA(),e.TgZ(24,"div",16)(25,"input",19),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.newPositionEn=i)}),e.qZA()()(),e.TgZ(26,"div",20)(27,"button",21),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.submit())}),e._uU(28," Save "),e.qZA(),e.TgZ(29,"button",22),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.visible=!1)}),e._uU(30," Cancel "),e.qZA()()()()()()(),e.TgZ(31,"div",23)(32,"div",24)(33,"div",25)(34,"div",26)(35,"div",27)(36,"div",28),e._UZ(37,"i",29),e.TgZ(38,"input",30),e.NdJ("input",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.applyFilter(i))}),e.qZA()()(),e.TgZ(39,"div",31)(40,"div",32)(41,"div",33),e._UZ(42,"span",34),e._uU(43," Selected "),e.qZA(),e.TgZ(44,"button",35),e._uU(45," Delete Selected "),e.qZA()()()(),e.TgZ(46,"div",36)(47,"p-messages",37),e.NdJ("valueChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.messages=i)}),e.qZA(),e.TgZ(48,"p-table",38,39),e.YNc(50,B,9,0,"ng-template",40)(51,$,19,3,"ng-template",41),e.qZA()()()()(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(8),e.hij("",t.listOfPositions.length," Position"),e.xp6(5),e.Akn(e.DdM(15,Y)),e.Q6J("header",t.isEditMode?"Edit Position":"Add Position")("modal",!0)("visible",t.visible),e.xp6(2),e.hij("",t.isEditMode?"Edit Position Details":"Add Position Details","."),e.xp6(5),e.Q6J("ngModel",t.newPositionAr),e.xp6(5),e.Q6J("ngModel",t.newPositionEn),e.xp6(22),e.Q6J("value",t.messages)("enableService",!1),e.xp6(1),e.Q6J("value",t.listOfPositions)("paginator",!1)("rows",10)("globalFilterFields",e.DdM(16,V))}}let W=(()=>{class o{positionsService;cdr;messages=[];unsubscribe=[];listOfPositions=[];isEditMode=!1;isLoading$;selectedPositionId=null;visible=!1;newPositionAr="";newPositionEn="";table;constructor(t,n){this.positionsService=t,this.cdr=n,this.isLoading$=this.positionsService.isLoading$}ngOnInit(){this.getPositionsList()}showDialog(){this.visible=!0,this.newPositionEn="",this.newPositionAr="",this.selectedPositionId=null,this.isEditMode=!1}editPosition(t){this.visible=!0,this.newPositionEn=t.names.en,this.newPositionAr=t.names.ar,this.selectedPositionId=t.id,this.isEditMode=!0}getPositionsList(){const t=this.positionsService.getPositions().subscribe({next:n=>{this.listOfPositions=n,this.cdr.detectChanges()},error:n=>{this.messages=[],n.validationMessages?this.messages=n.validationMessages:this.messages.push({severity:"error",summary:"Error",detail:"An unexpected error occurred."})}});this.unsubscribe.push(t)}applyFilter(t){const n=t.target.value.trim().toLowerCase();this.table.filterGlobal(n,"contains")}submit(){if(this.selectedPositionId){const n=this.positionsService.updatePosition(this.selectedPositionId,{name:{en:this.newPositionEn,ar:this.newPositionAr}}).subscribe({next:i=>{this.messages.push({severity:"success",summary:"Success",detail:"Position updated successfully."}),this.getPositionsList(),this.visible=!1},error:i=>{this.messages=i.validationMessages||[{severity:"error",summary:"Error",detail:"Failed to update position."}],this.visible=!1}});this.unsubscribe.push(n)}else{const n=this.positionsService.createPosition({name:{en:this.newPositionEn,ar:this.newPositionAr}}).subscribe({next:i=>{this.messages.push({severity:"success",summary:"Success",detail:"Position created successfully."}),this.getPositionsList(),this.visible=!1},error:i=>{this.messages=i.validationMessages||[{severity:"error",summary:"Error",detail:"Failed to create position."}],this.visible=!1}});this.unsubscribe.push(n)}}deletePosition(t){y().fire({title:"Are you sure?",text:"Do you want to delete this position? This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"}).then(n=>{if(n.isConfirmed){const i=this.positionsService.deletePosition(t).subscribe({next:s=>{this.messages.push({severity:"success",summary:"Success",detail:"Position deleted successfully."}),this.getPositionsList()},error:s=>{this.messages=s.validationMessages||[{severity:"error",summary:"Error",detail:"Failed to delete position."}]}});this.unsubscribe.push(i)}})}ngOnDestroy(){this.unsubscribe.forEach(t=>t.unsubscribe())}static \u0275fac=function(n){return new(n||o)(e.Y36(j.m),e.Y36(e.sBO))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-positions"]],viewQuery:function(n,i){if(1&n&&e.Gf(Q,5),2&n){let s;e.iGM(s=e.CRH())&&(i.table=s.first)}},decls:4,vars:6,consts:[["mode","indeterminate",3,"style",4,"ngIf"],[4,"ngIf"],["mode","indeterminate"],["id","kt_app_toolbar",1,"app-toolbar","pt-10","mb-0"],["id","kt_app_toolbar_container",1,"app-container","container-fluid","d-flex","align-items-stretch"],[1,"app-toolbar-wrapper","d-flex","flex-stack","flex-wrap","gap-4","w-100"],[1,"page-title","d-flex","flex-column","justify-content-center","gap-1","me-3"],[1,"page-heading","d-flex","flex-column","justify-content-center","text-gray-900","fw-bold","fs-3","m-0"],[1,"fw-semibold","fs-7","my-0","text-muted"],[1,"d-flex","align-items-center","gap-2","gap-lg-3"],[1,"btn","btn-sm","btn-flex","btn-primary",3,"click"],[1,"ki-outline","ki-plus","text-white","fs-4"],[3,"header","modal","visible","visibleChange"],[1,"text-muted","mb-3","d-block"],[1,"mb-3","row"],["for","arabicName",1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["pInputText","","id","arabicName","name","arabicName","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["for","englishName",1,"col-sm-3","col-form-label"],["pInputText","","id","englishName","name","englishName","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-end","gap-2"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],["id","kt_app_content",1,"app-content","flex-column-fluid"],["id","kt_app_content_container",1,"app-container","container-fluid"],[1,"card"],[1,"card-header","border-0","pt-6"],[1,"card-title"],[1,"d-flex","align-items-center","position-relative","my-1"],[1,"pi","pi-search","fs-3","position-absolute","ms-5"],["type","text","pInputText","","placeholder","Search Positions",1,"form-control","form-control-solid","w-250px","ps-12",3,"input"],[1,"card-toolbar"],["data-kt-customer-table-toolbar","selected",1,"d-flex","justify-content-end","align-items-center","d-none"],[1,"fw-bold","me-5"],["data-kt-customer-table-select","selected_count",1,"me-2"],["type","button","data-kt-customer-table-select","delete_selected",1,"btn","btn-danger"],[1,"card-body","pt-0"],[3,"value","enableService","valueChange"],[1,"table-striped",3,"value","paginator","rows","globalFilterFields"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTooltip","Edit Position","tooltipPosition","top",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm","me-1",3,"click"],[1,"ki-duotone","ki-pencil","fs-2"],[1,"path1"],[1,"path2"],["pTooltip","Delete Position","tooltipPosition","top",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm",3,"click"],[1,"ki-duotone","ki-trash","fs-2"],[1,"path3"],[1,"path4"],[1,"path5"]],template:function(n,i){1&n&&(e.YNc(0,H,1,3,"p-progressBar",0),e.ALo(1,"async"),e.YNc(2,z,52,17,"ng-container",1),e.ALo(3,"async")),2&n&&(e.Q6J("ngIf",e.lcZ(1,2,i.isLoading$)),e.xp6(2),e.Q6J("ngIf",!1===e.lcZ(3,4,i.isLoading$)))},dependencies:[p.O5,h.V,f.jx,b.u,_.k,v.o,c.Fj,c.JJ,c.On,x.V,C.iA,p.Ov]})}return o})();var d=r(9862),w=r(5619),M=r(8504),u=r(7398),g=r(6306),m=r(4716),E=r(7186);let X=(()=>{class o{http;translationService;apiUrl="https://api.4sighta.com/api/admin/setting/country/list";createApi="https://api.4sighta.com/api/admin/setting/country";updateDeleteApi="https://api.4sighta.com/api/admin/setting/country";isLoadingSubject=new w.X(!1);isLoading$=this.isLoadingSubject.asObservable();currentLang="en";constructor(t,n){this.http=t,this.translationService=n,this.translationService.onLanguageChange().subscribe(i=>{this.currentLang=i})}setLoading(t){this.isLoadingSubject.next(t)}handleError(t){console.log("Error from service",t.error.errors);let n=[];if(t.error.errors){const i=t.error.errors;for(const s in i)i.hasOwnProperty(s)&&i[s].forEach(Z=>{n.push({severity:"error",summary:"Validation Error",detail:Z})})}return(0,M._)(()=>({validationMessages:n}))}getCountries(){const t=new d.WM({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.get(this.apiUrl,{headers:t}).pipe((0,u.U)(n=>n.data),(0,g.K)(n=>this.handleError(n)),(0,m.x)(()=>this.setLoading(!1)))}createCountry(t){const n=new d.WM({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.post(this.createApi,t,{headers:n}).pipe((0,u.U)(i=>i),(0,g.K)(i=>this.handleError(i)),(0,m.x)(()=>this.setLoading(!1)))}updateCountry(t,n){const i=new d.WM({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.put(`${this.updateDeleteApi}/${t}`,n,{headers:i}).pipe((0,u.U)(s=>s),(0,g.K)(s=>this.handleError(s)),(0,m.x)(()=>this.setLoading(!1)))}deleteCountry(t){const n=new d.WM({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.delete(`${this.updateDeleteApi}/${t}`,{headers:n}).pipe((0,u.U)(i=>i),(0,g.K)(i=>this.handleError(i)),(0,m.x)(()=>this.setLoading(!1)))}static \u0275fac=function(n){return new(n||o)(e.LFG(d.eN),e.LFG(E.D))};static \u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var D=r(53);const ee=["dt"],te=()=>({height:"4px"});function ne(o,a){1&o&&e._UZ(0,"p-progressBar",2),2&o&&e.Akn(e.DdM(2,te))}function ie(o,a){1&o&&(e.TgZ(0,"tr"),e._UZ(1,"th"),e.TgZ(2,"th"),e._uU(3,"Name"),e.qZA(),e.TgZ(4,"th"),e._uU(5,"Name (English)"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Name (Arabic)"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"ISO2"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"ISO3"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Action"),e.qZA()())}function oe(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"div",52),e._UZ(3,"span",53),e.qZA()(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td")(15,"a",54),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.editCountry(s))}),e.TgZ(16,"i",55),e._UZ(17,"span",56)(18,"span",57),e.qZA()(),e.TgZ(19,"a",58),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.deleteCountry(s.id))}),e.TgZ(20,"i",59),e._UZ(21,"span",56)(22,"span",57)(23,"span",60)(24,"span",61)(25,"span",62),e.qZA()()()()}if(2&o){const t=a.$implicit;e.xp6(3),e.Q6J("inlineSVG","./assets/media/flags/"+t.flag+".svg"),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.names.en),e.xp6(2),e.Oqu(t.names.ar),e.xp6(2),e.Oqu(t.iso2),e.xp6(2),e.Oqu(t.iso3)}}const se=()=>({width:"30rem"}),ae=()=>["name","names.en","names.ar","iso2","iso3"];function re(o,a){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"h1",7),e._uU(6," Countries "),e.qZA(),e.TgZ(7,"div",8),e._uU(8),e.qZA()(),e.TgZ(9,"div",9)(10,"a",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.showDialog())}),e._UZ(11,"i",11),e._uU(12," Create "),e.qZA(),e.TgZ(13,"p-dialog",12),e.NdJ("visibleChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.visible=i)}),e.TgZ(14,"span",13),e._uU(15),e.qZA(),e.TgZ(16,"div",14)(17,"label",15),e._uU(18,"Name (English)"),e.qZA(),e.TgZ(19,"div",16)(20,"input",17),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.newCountryEn=i)}),e.qZA()()(),e.TgZ(21,"div",14)(22,"label",18),e._uU(23,"Name (Arabic)"),e.qZA(),e.TgZ(24,"div",16)(25,"input",19),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.newCountryAr=i)}),e.qZA()()(),e.TgZ(26,"div",14)(27,"label",20),e._uU(28,"Region ID"),e.qZA(),e.TgZ(29,"div",16)(30,"input",21),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.newRegionId=i)}),e.qZA()()(),e.TgZ(31,"div",14)(32,"label",22),e._uU(33,"ISO2"),e.qZA(),e.TgZ(34,"div",16)(35,"input",23),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.newIso2=i)}),e.qZA()()(),e.TgZ(36,"div",14)(37,"label",24),e._uU(38,"ISO3"),e.qZA(),e.TgZ(39,"div",16)(40,"input",25),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.newIso3=i)}),e.qZA()()(),e.TgZ(41,"div",14)(42,"label",26),e._uU(43,"Nationality (English)"),e.qZA(),e.TgZ(44,"div",16)(45,"input",27),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.newNationalityEn=i)}),e.qZA()()(),e.TgZ(46,"div",14)(47,"label",28),e._uU(48,"Nationality (Arabic)"),e.qZA(),e.TgZ(49,"div",16)(50,"input",29),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.newNationalityAr=i)}),e.qZA()()(),e.TgZ(51,"div",14)(52,"label",30),e._uU(53,"International Code"),e.qZA(),e.TgZ(54,"div",16)(55,"input",31),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.newInternationalCode=i)}),e.qZA()()(),e.TgZ(56,"div",14)(57,"label",32),e._uU(58,"Flag"),e.qZA(),e.TgZ(59,"div",16)(60,"input",33),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.newFlag=i)}),e.qZA()()(),e.TgZ(61,"div",34)(62,"button",35),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.submit())}),e._uU(63," Save "),e.qZA(),e.TgZ(64,"button",36),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.visible=!1)}),e._uU(65," Cancel "),e.qZA()()()()()()(),e.TgZ(66,"div",37)(67,"div",38)(68,"div",39)(69,"div",40)(70,"div",41)(71,"div",42),e._UZ(72,"i",43),e.TgZ(73,"input",44),e.NdJ("input",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.applyFilter(i))}),e.qZA()()(),e._UZ(74,"div",45),e.qZA(),e.TgZ(75,"div",46)(76,"p-messages",47),e.NdJ("valueChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.messages=i)}),e.qZA(),e.TgZ(77,"p-table",48,49),e.YNc(79,ie,14,0,"ng-template",50)(80,oe,26,6,"ng-template",51),e.qZA()()()()(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(8),e.hij("",t.listOfCountries.length," Countries"),e.xp6(5),e.Akn(e.DdM(22,se)),e.Q6J("header",t.isEditMode?"Edit Country":"Add Country")("modal",!0)("visible",t.visible),e.xp6(2),e.hij("",t.isEditMode?"Edit Country Details":"Add Country Details","."),e.xp6(5),e.Q6J("ngModel",t.newCountryEn),e.xp6(5),e.Q6J("ngModel",t.newCountryAr),e.xp6(5),e.Q6J("ngModel",t.newRegionId),e.xp6(5),e.Q6J("ngModel",t.newIso2),e.xp6(5),e.Q6J("ngModel",t.newIso3),e.xp6(5),e.Q6J("ngModel",t.newNationalityEn),e.xp6(5),e.Q6J("ngModel",t.newNationalityAr),e.xp6(5),e.Q6J("ngModel",t.newInternationalCode),e.xp6(5),e.Q6J("ngModel",t.newFlag),e.xp6(16),e.Q6J("value",t.messages)("enableService",!1),e.xp6(1),e.Q6J("value",t.listOfCountries)("paginator",!0)("rows",10)("globalFilterFields",e.DdM(23,ae))}}let le=(()=>{class o{countriesService;cdr;messages=[];unsubscribe=[];listOfCountries=[];isEditMode=!1;isLoading$;selectedCountryId=null;visible=!1;newCountryEn="";newCountryAr="";newRegionId=null;newIso2="";newIso3="";newNationalityEn="";newNationalityAr="";newInternationalCode="";newFlag="";table;constructor(t,n){this.countriesService=t,this.cdr=n,this.isLoading$=this.countriesService.isLoading$}ngOnInit(){this.getCountriesList()}showDialog(){this.visible=!0,this.resetForm(),this.selectedCountryId=null,this.isEditMode=!1}editCountry(t){this.visible=!0,this.newCountryEn=t.names.en,this.newCountryAr=t.names.ar,this.newRegionId=t.region_id,this.newIso2=t.iso2,this.newIso3=t.iso3,this.newNationalityEn=t.nationality.en,this.newNationalityAr=t.nationality.ar,this.newInternationalCode=t.international_code,this.newFlag=t.flag,this.selectedCountryId=t.id,this.isEditMode=!0}resetForm(){this.newCountryEn="",this.newCountryAr="",this.newRegionId=null,this.newIso2="",this.newIso3="",this.newNationalityEn="",this.newNationalityAr="",this.newInternationalCode="",this.newFlag=""}getCountriesList(){const t=this.countriesService.getCountries().subscribe({next:n=>{this.listOfCountries=n,this.cdr.detectChanges(),console.log("listOfCountries",this.listOfCountries)},error:n=>{this.messages=[],n.validationMessages?this.messages=n.validationMessages:this.messages.push({severity:"error",summary:"Error",detail:"An unexpected error occurred."})}});this.unsubscribe.push(t)}applyFilter(t){const n=t.target.value.trim().toLowerCase();this.table.filterGlobal(n,"contains")}submit(){const t={name:{en:this.newCountryEn,ar:this.newCountryAr},region_id:this.newRegionId,iso2:this.newIso2,iso3:this.newIso3,nationality:{en:this.newNationalityEn,ar:this.newNationalityAr},international_code:this.newInternationalCode,flag:this.newFlag};if(this.selectedCountryId){const n=this.countriesService.updateCountry(this.selectedCountryId,t).subscribe({next:i=>{this.messages.push({severity:"success",summary:"Success",detail:"Country updated successfully."}),this.getCountriesList(),this.visible=!1},error:i=>{this.messages=i.validationMessages||[{severity:"error",summary:"Error",detail:"Failed to update country."}],this.visible=!1}});this.unsubscribe.push(n)}else{const n=this.countriesService.createCountry(t).subscribe({next:i=>{this.messages.push({severity:"success",summary:"Success",detail:"Country created successfully."}),this.getCountriesList(),this.visible=!1},error:i=>{this.messages=i.validationMessages||[{severity:"error",summary:"Error",detail:"Failed to create country."}],this.visible=!1}});this.unsubscribe.push(n)}}deleteCountry(t){y().fire({title:"Are you sure?",text:"Do you want to delete this country? This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"}).then(n=>{if(n.isConfirmed){const i=this.countriesService.deleteCountry(t).subscribe({next:s=>{this.messages.push({severity:"success",summary:"Success",detail:"Country deleted successfully."}),this.getCountriesList()},error:s=>{this.messages=s.validationMessages||[{severity:"error",summary:"Error",detail:"Failed to delete country."}]}});this.unsubscribe.push(i)}})}ngOnDestroy(){this.unsubscribe.forEach(t=>t.unsubscribe())}static \u0275fac=function(n){return new(n||o)(e.Y36(X),e.Y36(e.sBO))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-countries"]],viewQuery:function(n,i){if(1&n&&e.Gf(ee,5),2&n){let s;e.iGM(s=e.CRH())&&(i.table=s.first)}},decls:4,vars:6,consts:[["mode","indeterminate",3,"style",4,"ngIf"],[4,"ngIf"],["mode","indeterminate"],["id","kt_app_toolbar",1,"app-toolbar","pt-10","mb-0"],["id","kt_app_toolbar_container",1,"app-container","container-fluid","d-flex","align-items-stretch"],[1,"app-toolbar-wrapper","d-flex","flex-stack","flex-wrap","gap-4","w-100"],[1,"page-title","d-flex","flex-column","justify-content-center","gap-1","me-3"],[1,"page-heading","d-flex","flex-column","justify-content-center","text-gray-900","fw-bold","fs-3","m-0"],[1,"fw-semibold","fs-7","my-0","text-muted"],[1,"d-flex","align-items-center","gap-2","gap-lg-3"],[1,"btn","btn-sm","btn-flex","btn-primary",3,"click"],[1,"ki-outline","ki-plus","text-white","fs-4"],[3,"header","modal","visible","visibleChange"],[1,"text-muted","mb-3","d-block"],[1,"mb-3","row"],["for","countryEn",1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["pInputText","","id","countryEn","name","countryEn","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["for","countryAr",1,"col-sm-3","col-form-label"],["pInputText","","id","countryAr","name","countryAr","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["for","regionId",1,"col-sm-3","col-form-label"],["pInputText","","id","regionId","name","regionId","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["for","iso2",1,"col-sm-3","col-form-label"],["pInputText","","id","iso2","name","iso2","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["for","iso3",1,"col-sm-3","col-form-label"],["pInputText","","id","iso3","name","iso3","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["for","nationalityEn",1,"col-sm-3","col-form-label"],["pInputText","","id","nationalityEn","name","nationalityEn","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["for","nationalityAr",1,"col-sm-3","col-form-label"],["pInputText","","id","nationalityAr","name","nationalityAr","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["for","internationalCode",1,"col-sm-3","col-form-label"],["pInputText","","id","internationalCode","name","internationalCode","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["for","flag",1,"col-sm-3","col-form-label"],["pInputText","","id","flag","name","flag","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-end","gap-2"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],["id","kt_app_content",1,"app-content","flex-column-fluid"],["id","kt_app_content_container",1,"app-container","container-fluid"],[1,"card"],[1,"card-header","border-0","pt-6"],[1,"card-title"],[1,"d-flex","align-items-center","position-relative","my-1"],[1,"pi","pi-search","fs-3","position-absolute","ms-5"],["type","text","pInputText","","placeholder","Search Countries",1,"form-control","form-control-solid","w-250px","ps-12",3,"input"],[1,"card-toolbar"],[1,"card-body","pt-0"],[3,"value","enableService","valueChange"],[1,"table-striped",3,"value","paginator","rows","globalFilterFields"],["dt",""],["pTemplate","header"],["pTemplate","body"],["data-bs-toggle","tooltip","data-bs-original-title","Alan Warden","data-kt-initialized","1",1,"symbol","symbol-20px"],[1,"symbol-label","fw-bold",3,"inlineSVG"],["pTooltip","Edit Country","tooltipPosition","top",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm","me-1",3,"click"],[1,"ki-duotone","ki-pencil","fs-2"],[1,"path1"],[1,"path2"],["pTooltip","Delete Country","tooltipPosition","top",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm",3,"click"],[1,"ki-duotone","ki-trash","fs-2"],[1,"path3"],[1,"path4"],[1,"path5"]],template:function(n,i){1&n&&(e.YNc(0,ne,1,3,"p-progressBar",0),e.ALo(1,"async"),e.YNc(2,re,81,24,"ng-container",1),e.ALo(3,"async")),2&n&&(e.Q6J("ngIf",e.lcZ(1,2,i.isLoading$)),e.xp6(2),e.Q6J("ngIf",!1===e.lcZ(3,4,i.isLoading$)))},dependencies:[p.O5,h.V,f.jx,b.u,_.k,D.d$,v.o,c.Fj,c.JJ,c.On,x.V,C.iA,p.Ov]})}return o})(),ce=(()=>{class o{http;translationService;apiUrl="https://api.4sighta.com/api/admin/setting/region/list";createApi="https://api.4sighta.com/api/admin/setting/region";updateDeleteApi="https://api.4sighta.com/api/admin/setting/region";isLoadingSubject=new w.X(!1);isLoading$=this.isLoadingSubject.asObservable();currentLang="en";constructor(t,n){this.http=t,this.translationService=n,this.translationService.onLanguageChange().subscribe(i=>{this.currentLang=i})}setLoading(t){this.isLoadingSubject.next(t)}handleError(t){console.log("Error from service",t.error.errors);let n=[];if(t.error.errors){const i=t.error.errors;for(const s in i)i.hasOwnProperty(s)&&i[s].forEach(Z=>{n.push({severity:"error",summary:"Validation Error",detail:Z})})}return(0,M._)(()=>({validationMessages:n}))}getRegions(){const t=new d.WM({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.get(this.apiUrl,{headers:t}).pipe((0,u.U)(n=>n.data),(0,g.K)(n=>this.handleError(n)),(0,m.x)(()=>this.setLoading(!1)))}createRegion(t){const n=new d.WM({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.post(this.createApi,t,{headers:n}).pipe((0,u.U)(i=>i),(0,g.K)(i=>this.handleError(i)),(0,m.x)(()=>this.setLoading(!1)))}updateRegion(t,n){const i=new d.WM({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.put(`${this.updateDeleteApi}/${t}`,n,{headers:i}).pipe((0,u.U)(s=>s),(0,g.K)(s=>this.handleError(s)),(0,m.x)(()=>this.setLoading(!1)))}deleteRegion(t){const n=new d.WM({Accept:"application/json","Content-Type":"application/json","Accept-Language":this.currentLang});return this.setLoading(!0),this.http.delete(`${this.updateDeleteApi}/${t}`,{headers:n}).pipe((0,u.U)(i=>i),(0,g.K)(i=>this.handleError(i)),(0,m.x)(()=>this.setLoading(!1)))}static \u0275fac=function(n){return new(n||o)(e.LFG(d.eN),e.LFG(E.D))};static \u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const pe=["dt"],de=()=>({height:"4px"});function ue(o,a){1&o&&e._UZ(0,"p-progressBar",2),2&o&&e.Akn(e.DdM(2,de))}function ge(o,a){1&o&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Name"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Name (English)"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Name (Arabic)"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Action"),e.qZA()())}function me(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"a",38),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.editRegion(s))}),e.TgZ(9,"i",39),e._UZ(10,"span",40)(11,"span",41),e.qZA()(),e.TgZ(12,"a",42),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.deleteRegion(s.id))}),e.TgZ(13,"i",43),e._UZ(14,"span",40)(15,"span",41)(16,"span",44)(17,"span",45)(18,"span",46),e.qZA()()()()}if(2&o){const t=a.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.names.en),e.xp6(2),e.Oqu(t.names.ar)}}const _e=()=>({width:"30rem"}),he=()=>["name","names.en","names.ar"];function fe(o,a){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"h1",7),e._uU(6," Regions "),e.qZA(),e.TgZ(7,"div",8),e._uU(8),e.qZA()(),e.TgZ(9,"div",9)(10,"a",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.showDialog())}),e._UZ(11,"i",11),e._uU(12," Create "),e.qZA(),e.TgZ(13,"p-dialog",12),e.NdJ("visibleChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.visible=i)}),e.TgZ(14,"span",13),e._uU(15),e.qZA(),e.TgZ(16,"div",14)(17,"label",15),e._uU(18,"Name (English)"),e.qZA(),e.TgZ(19,"div",16)(20,"input",17),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.newRegionEn=i)}),e.qZA()()(),e.TgZ(21,"div",14)(22,"label",18),e._uU(23,"Name (Arabic)"),e.qZA(),e.TgZ(24,"div",16)(25,"input",19),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.newRegionAr=i)}),e.qZA()()(),e.TgZ(26,"div",20)(27,"button",21),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.submit())}),e._uU(28," Save "),e.qZA(),e.TgZ(29,"button",22),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.visible=!1)}),e._uU(30," Cancel "),e.qZA()()()()()()(),e.TgZ(31,"div",23)(32,"div",24)(33,"div",25)(34,"div",26)(35,"div",27)(36,"div",28),e._UZ(37,"i",29),e.TgZ(38,"input",30),e.NdJ("input",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.applyFilter(i))}),e.qZA()()(),e._UZ(39,"div",31),e.qZA(),e.TgZ(40,"div",32)(41,"p-messages",33),e.NdJ("valueChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.messages=i)}),e.qZA(),e.TgZ(42,"p-table",34,35),e.YNc(44,ge,9,0,"ng-template",36)(45,me,19,3,"ng-template",37),e.qZA()()()()(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(8),e.hij("",t.listOfRegions.length," Regions"),e.xp6(5),e.Akn(e.DdM(15,_e)),e.Q6J("header",t.isEditMode?"Edit Region":"Add Region")("modal",!0)("visible",t.visible),e.xp6(2),e.hij("",t.isEditMode?"Edit Region Details":"Add Region Details","."),e.xp6(5),e.Q6J("ngModel",t.newRegionEn),e.xp6(5),e.Q6J("ngModel",t.newRegionAr),e.xp6(16),e.Q6J("value",t.messages)("enableService",!1),e.xp6(1),e.Q6J("value",t.listOfRegions)("paginator",!0)("rows",10)("globalFilterFields",e.DdM(16,he))}}const be=[{path:"",redirectTo:"main-dashboard",pathMatch:"full"},{path:"main-dashboard",component:k,children:[{path:"",redirectTo:"departments",pathMatch:"full"},{path:"departments",component:G},{path:"positions",component:W},{path:"countries",component:le},{path:"regions",component:(()=>{class o{regionsService;cdr;messages=[];unsubscribe=[];listOfRegions=[];isEditMode=!1;isLoading$;selectedRegionId=null;visible=!1;newRegionEn="";newRegionAr="";table;constructor(t,n){this.regionsService=t,this.cdr=n,this.isLoading$=this.regionsService.isLoading$}ngOnInit(){this.getRegionsList()}showDialog(){this.visible=!0,this.resetForm(),this.selectedRegionId=null,this.isEditMode=!1}editRegion(t){this.visible=!0,this.newRegionEn=t.names.en,this.newRegionAr=t.names.ar,this.selectedRegionId=t.id,this.isEditMode=!0}resetForm(){this.newRegionEn="",this.newRegionAr=""}getRegionsList(){const t=this.regionsService.getRegions().subscribe({next:n=>{this.listOfRegions=n,this.cdr.detectChanges(),console.log("listOfRegions",this.listOfRegions)},error:n=>{this.messages=[],n.validationMessages?this.messages=n.validationMessages:this.messages.push({severity:"error",summary:"Error",detail:"An unexpected error occurred."})}});this.unsubscribe.push(t)}applyFilter(t){const n=t.target.value.trim().toLowerCase();this.table.filterGlobal(n,"contains")}submit(){const t={name:{en:this.newRegionEn,ar:this.newRegionAr}};if(this.selectedRegionId){const n=this.regionsService.updateRegion(this.selectedRegionId,t).subscribe({next:i=>{this.messages.push({severity:"success",summary:"Success",detail:"Region updated successfully."}),this.getRegionsList(),this.visible=!1},error:i=>{this.messages=i.validationMessages||[{severity:"error",summary:"Error",detail:"Failed to update region."}],this.visible=!1}});this.unsubscribe.push(n)}else{const n=this.regionsService.createRegion(t).subscribe({next:i=>{this.messages.push({severity:"success",summary:"Success",detail:"Region created successfully."}),this.getRegionsList(),this.visible=!1},error:i=>{this.messages=i.validationMessages||[{severity:"error",summary:"Error",detail:"Failed to create region."}],this.visible=!1}});this.unsubscribe.push(n)}}deleteRegion(t){y().fire({title:"Are you sure?",text:"Do you want to delete this region? This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"}).then(n=>{if(n.isConfirmed){const i=this.regionsService.deleteRegion(t).subscribe({next:s=>{this.messages.push({severity:"success",summary:"Success",detail:"Region deleted successfully."}),this.getRegionsList()},error:s=>{this.messages=s.validationMessages||[{severity:"error",summary:"Error",detail:"Failed to delete region."}]}});this.unsubscribe.push(i)}})}ngOnDestroy(){this.unsubscribe.forEach(t=>t.unsubscribe())}static \u0275fac=function(n){return new(n||o)(e.Y36(ce),e.Y36(e.sBO))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-regions"]],viewQuery:function(n,i){if(1&n&&e.Gf(pe,5),2&n){let s;e.iGM(s=e.CRH())&&(i.table=s.first)}},decls:4,vars:6,consts:[["mode","indeterminate",3,"style",4,"ngIf"],[4,"ngIf"],["mode","indeterminate"],["id","kt_app_toolbar",1,"app-toolbar","pt-10","mb-0"],["id","kt_app_toolbar_container",1,"app-container","container-fluid","d-flex","align-items-stretch"],[1,"app-toolbar-wrapper","d-flex","flex-stack","flex-wrap","gap-4","w-100"],[1,"page-title","d-flex","flex-column","justify-content-center","gap-1","me-3"],[1,"page-heading","d-flex","flex-column","justify-content-center","text-gray-900","fw-bold","fs-3","m-0"],[1,"fw-semibold","fs-7","my-0","text-muted"],[1,"d-flex","align-items-center","gap-2","gap-lg-3"],[1,"btn","btn-sm","btn-flex","btn-primary",3,"click"],[1,"ki-outline","ki-plus","text-white","fs-4"],[3,"header","modal","visible","visibleChange"],[1,"text-muted","mb-3","d-block"],[1,"mb-3","row"],["for","regionEn",1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["pInputText","","id","regionEn","name","regionEn","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],["for","regionAr",1,"col-sm-3","col-form-label"],["pInputText","","id","regionAr","name","regionAr","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-end","gap-2"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],["id","kt_app_content",1,"app-content","flex-column-fluid"],["id","kt_app_content_container",1,"app-container","container-fluid"],[1,"card"],[1,"card-header","border-0","pt-6"],[1,"card-title"],[1,"d-flex","align-items-center","position-relative","my-1"],[1,"pi","pi-search","fs-3","position-absolute","ms-5"],["type","text","pInputText","","placeholder","Search Regions",1,"form-control","form-control-solid","w-250px","ps-12",3,"input"],[1,"card-toolbar"],[1,"card-body","pt-0"],[3,"value","enableService","valueChange"],[1,"table-striped",3,"value","paginator","rows","globalFilterFields"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTooltip","Edit Region","tooltipPosition","top",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm","me-1",3,"click"],[1,"ki-duotone","ki-pencil","fs-2"],[1,"path1"],[1,"path2"],["pTooltip","Delete Region","tooltipPosition","top",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm",3,"click"],[1,"ki-duotone","ki-trash","fs-2"],[1,"path3"],[1,"path4"],[1,"path5"]],template:function(n,i){1&n&&(e.YNc(0,ue,1,3,"p-progressBar",0),e.ALo(1,"async"),e.YNc(2,fe,46,17,"ng-container",1),e.ALo(3,"async")),2&n&&(e.Q6J("ngIf",e.lcZ(1,2,i.isLoading$)),e.xp6(2),e.Q6J("ngIf",!1===e.lcZ(3,4,i.isLoading$)))},dependencies:[p.O5,h.V,f.jx,b.u,_.k,v.o,c.Fj,c.JJ,c.On,x.V,C.iA,p.Ov]})}return o})()},{path:"co-settings",component:U}]}];let ve=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=e.oAB({type:o});static \u0275inj=e.cJS({imports:[T.Bz.forChild(be),T.Bz]})}return o})();var xe=r(742);let Ae=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=e.oAB({type:o});static \u0275inj=e.cJS({imports:[p.ez,f.m8]})}return o})();var we=r(707);let Me=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=e.oAB({type:o});static \u0275inj=e.cJS({imports:[p.ez,h.S,we.hJ,b.z,_.q,ve,D.vi,v.j,c.u5,Ae,x.$,C.U$,xe.X]})}return o})()}}]);